<!doctype html>
<html lang="en" data-theme="corporate">
<head>
    <meta charset="UTF-8"/>
    <link rel="icon" type="image/svg+xml" href="kitten.svg"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Data chart display</title>
</head>
<body>
<header class="bg-amber-100 p-4 grid-area-header sticky top-0 z-20">
    <div class="flex flex-row h-full items-center gap-4">
        <div class="h-full aspect-square">
            <img src="kitten.svg" class="h-full w-auto" width="100" height="100" alt="Kitten">
        </div>
        <h1 class="font-black text-2xl">67 Kittens</h1>
    </div>
</header>

<nav class="bg-blue-100 flex flex-col min-w-0 overflow-hidden">
    <div class="p-4 hide-if-collapse-nav flex flex-col gap-8">
        <div class="flex flex-row justify-end">
            <h2 class="mr-auto font-extrabold text-2xl self-end">Navigation</h2>

            <sl-tooltip content="Hide navigation">
                <button class="btn btn-outline btn-info mt-2" data-action="addClass" data-class="collapse-nav" data-target="body"
                        aria-label="Hide navigation">
                    <span class="text-2xl">«</span>
                </button>
            </sl-tooltip>
        </div>

        <div class="flex flex-col gap-4">

            <label for="select-state" class="sr-only">State</label>
            <sl-select id="select-state" size="small" clearable class="data-select"
                       name="state" max-options-visible="999" placeholder="Select states" multiple
                       data-purpose="state">
                <sl-icon slot="expand-icon" name="caret-down-fill" class="text-info"></sl-icon>

                <!-- Values cannot contain spaces -->
                <sl-option value="AL">Alabama</sl-option>
                <sl-option value="AK">Alaska</sl-option>
                <sl-option value="AZ">Arizona</sl-option>
                <sl-option value="AR">Arkansas</sl-option>
                <sl-option value="CA">California</sl-option>
                <sl-option value="CO">Colorado</sl-option>
                <sl-option value="WY">Wyoming</sl-option>
            </sl-select>

            <label for="select-cheese" class="sr-only">Cheese</label>
            <sl-select size="small" clearable multiple class="data-select" max-options-visible="999"
                       id="select-cheese" name="cheese"  placeholder="Select cheese" data-purpose="cheese">
                <sl-icon slot="expand-icon" name="caret-down-fill" class="text-info"></sl-icon>

                <sl-option value="brie">Brie</sl-option>
                <sl-option value="cheddar">Cheddar</sl-option>
                <sl-option value="gouda">Gouda</sl-option>
            </sl-select>

        </div>
    </div>
</nav>

<footer class="bg-gray-300 p-2 grid-area-footer">
    See the fine privacy policy
</footer>

<main id="chartHolder" class="flex flex-col gap-2 p-4 grid-area-main max-w-[min(calc(100vw-300px),60rem)] min-w-120">
    <!-- Listens for events from a selector with purpose chartType, and converts them for the chart component -->
    <data-event-mediator watchedEvents="change,sl-change" purposes="chartType,state,cheese">
        <data-history-manager purposes="chartType,state,cheese"></data-history-manager>
        <data-store baseUrl="./data.json" relevantChanges="cheese" fakeData="fakeData"></data-store>
    </data-event-mediator>

    <div class="buttons flex gap-8">
        <sl-tooltip content="Show navigation">
            <button class="btn btn-outline btn-info show-if-collapse-nav mr-auto" data-action="removeClass" data-class="collapse-nav" data-target="body"
                    aria-label="Show navigation">
                <span class="text-2xl">»</span>
            </button>
        </sl-tooltip>

        <div class="flex flex-row items-center gap-2">
            <label for="chartTypeSelector" class="whitespace-nowrap font-bold">Chart type</label>
            <select id="chartTypeSelector" data-purpose="chartType" class="select border-primary focus:outline-none bg-transparent text-primary font-semibold">
                <option value="column">Column</option>
                <option value="line">Line</option>
            </select>
        </div>

        <button class="btn btn-primary btn-outline" data-action="showDialog" data-modal="true" data-target="#savedSearchDialog">Saved searches</button>
    </div>

    <!-- The max width forces the content to resize smaller when the browser gets smaller - otherwise the graph
         grows when the browser grows, and never shrinks because the container is now sized to the larger graph -->
    <data-chart id="chart" data-query="anotherQuery" data-title="anotherTitle" class="max-w-[min(calc(100vw-300px),60rem)] min-w-120">

    </data-chart>

    <div class="overflow-x-auto rounded-box border border-base-content/5 bg-base-100 overflow-y-auto max-h-96">
        <data-table></data-table>
    </div>

    <div class="max-w-200 flex flex-col gap-2">
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum
            dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </p>

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum
            dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </p>

        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum
            dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
        </p>
        <p>
            Mauris imperdiet nunc justo, vitae maximus mi ultrices lacinia. Pellentesque tempus iaculis magna, ac iaculis lectus feugiat nec. Pellentesque dictum
            sed
            urna at condimentum. Phasellus ac pharetra dui, quis aliquam orci. Pellentesque lobortis diam lacinia tristique vehicula. Curabitur tincidunt sem vel
            elit
            imperdiet mattis. Nam rutrum, quam vel tincidunt auctor, augue nulla feugiat leo, venenatis hendrerit ligula tellus id tortor. Donec tempor, quam
            pretium
            dignissim bibendum, diam elit maximus orci, et varius arcu enim quis massa. Phasellus eget diam ut magna posuere rutrum lobortis sed turpis. Proin sed
            libero nec nunc pellentesque volutpat. Proin at ipsum tortor. Phasellus ornare ligula nisi, eget iaculis urna molestie quis. Aenean molestie id nisl a
            interdum. Morbi ac dui in velit pretium ullamcorper id suscipit enim.
        </p>
        <p>
            Sed tristique rutrum justo, at suscipit mi tempor non. Aliquam erat volutpat. Etiam dapibus urna nulla, sed tempus leo consequat vitae. Aliquam vitae
            mollis
            leo. Suspendisse vitae leo sed est dictum iaculis non a ex. Sed aliquet sollicitudin pretium. Sed dolor dui, fringilla ut ante non, efficitur vehicula
            orci.
            Vestibulum placerat lorem non tempus mattis.
        </p>
        <p>
            Aliquam erat volutpat. Sed eleifend orci finibus, tincidunt felis sit amet, malesuada mi. Maecenas ac gravida diam. In nec rhoncus libero, in posuere
            nulla.
            Aliquam ac sollicitudin elit. Etiam ante lorem, rhoncus a rhoncus a, suscipit at neque. Etiam eget varius purus, eu vehicula massa.
        </p>
        <p>
            Fusce convallis nec nisi eget sollicitudin. In eu eros auctor, ullamcorper orci tempor, ultricies ipsum. Donec fermentum tempor diam, id condimentum
            libero
            bibendum at. Proin non ultrices neque, eget egestas velit. Maecenas elementum mattis facilisis. Etiam nibh purus, faucibus et nisl eu, gravida convallis
            est. Suspendisse semper diam a diam fringilla, a faucibus felis pellentesque. Phasellus ac eros in nulla sodales hendrerit. Curabitur nunc magna,
            rhoncus ac
            ante ac, imperdiet sollicitudin libero. In commodo ut orci ac fermentum.
        </p>
    </div>

</main>

<saved-search-dialog id="savedSearchDialog"></saved-search-dialog>

<script type="module" src="src/main.ts"></script>
</body>
</html>
